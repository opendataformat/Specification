Internal\_OpenDF: Example
================

-   [Example](#example)
    -   [Data](#data)
    -   [Metadata](#metadata)
        -   [Dataset](#dataset)
        -   [Variables](#variables)
        -   [Variable Values & Value
            Labels](#variable-values--value-labels)

Author: Xiaoyao Han, Claudia Saalbach, Knut Wenzig  
Affiliation: DIW Berlin  
Created: 2022-03-01  
Version: v1.0.0  
Last modified: 2022-04-23 Claudia Saalbach  
Licence: This repository is issued under a CC by licence
(<https://creativecommons.org/licenses/by/4.0/>)

------------------------------------------------------------------------

# Example

This data example is intended to illustrate the main features of the
specified Internal Open Data Format (Internal\_OpenDF). The example was
developed along the lines of the [SOEP-Core study from
2010](https://paneldata.org/soep-core/data/bap/), in which, among other
instruments, data were collected using the [Individual
Questionnaire](https://paneldata.org/soep-core/inst/soep-core-2010-pe/1).
Therefore, the metadata of this example is very similar to that of the
SOEP survey, but the response data are fictitious. The response data
were generated by random selection. The variable `name` is fictional to
have an example for character variables. The responses for the variable
`name` stem from the dataset “Vornamen 2013” from the Open Data platform
[Offene Daten Köln](https://offenedaten-koeln.de/dataset/vornamen).

Since the Internal\_OpenDF specifies both, a data component and a
metadata component of a dataset, the document is structured in two main
sections: [Data](#data) and [Metadata](#metadata).

## Data

The survey response data is saved in the [data.csv](data.csv) file. The
data file contains the seven variables **bap87**, **bap9201**,
**bap9001**, **bap9002**, **bap9003**, **bap96** and **name**.

| bap87 | bap9201 | bap9001 | bap9002 | bap9003 | bap96 | name      |
|:------|:--------|--------:|--------:|--------:|:------|:----------|
| 4     | -2      |       1 |      -1 |       2 | -2    | Jakob     |
| 3     | 5       |      -2 |       1 |       4 | 1.57  | Luca      |
|       | -1      |      -1 |       2 |      -1 | 1.92  | Emilia    |
| 1     | 9       |      -2 |       2 |       4 | 1.85  | -1        |
| -1    | 4       |       2 |       3 |       1 | 1.91  | Johanna   |
| 3     | 4       |      -1 |       4 |      -2 | 1.8   | Paul      |
| 1     | 9       |       2 |      -1 |      -1 | 1.8   |           |
| 5     | 6       |       1 |      -1 |       1 | 1.96  | Mia       |
| 5     | 5       |       5 |       3 |       1 | 1.64  | Ben       |
| -2    | 4       |       4 |      -1 |      -2 | 1.93  | Jakob     |
| -1    | 4       |       2 |       1 |       5 | 1.93  | Anton     |
| -2    | 5       |       3 |      -2 |       4 |       | Charlotte |
| 3     | -1      |       2 |       1 |       2 | 1.74  | Luca      |
| 2     | -2      |      -2 |       4 |      -1 | 1.65  | Maria     |
| 5     | -1      |      -2 |      -1 |      -1 | 1.8   | Johanna   |
| 4     | 5       |       1 |       3 |      -1 | 1.58  | Emma      |
| 3     | 7       |       1 |       2 |      -2 | 1.95  | Felix     |
| 3     |         |       5 |       3 |      -2 | 1.98  | David     |
| -2    | 8       |       1 |       4 |       5 | 1.61  | -2        |
| 2     | 8       |       3 |       1 |       2 | 1.83  | Anton     |

data.csv holding the raw data

The variables in this example hold different variable types: numeric,
character and categorical. Categorical variables are numerical variables
with pre-defined labels assigned to values. Solely with the data
component of the dataset, categorical variables can not be identified
since the value labels are held by the metadata component of the
dataset.

<!-- --------------------------------------------------------------------- -->
<!-- --------------------------------------------------------------------- -->
<!-- --------------------------------------------------------------------- -->

## Metadata

For describing the raw data stored in the data.csv file the
Internal\_OpenDF provides three metadata files:
[dataset.csv](dataset.csv), [variables.csv](variables.csv), and
[categories.csv](categories.csv). The [dataset.csv](dataset.csv) file
contains general information about the dataset. The
[variables.csv](variables.csv) file describes the individual variables
of the dataset. The [categories.csv](categories.csv) file contains the
predefined values and value labels of categorical variables. The
following tables show an example of how the metadata is organized for
describing the dataset and exemplified the variable `bap87`. The tables
are a snapshot of the CSV tables in this repository.

### Dataset

For providing some general information on the data stored in the
[data.csv](data.csv) file, the metadata file [dataset.csv](dataset.csv)
offers four columns. The column **dataset** contains the name of the
dataset - here `bap`. The **label\_en** column can be used to specify a
label in English for the dataset. Equivalent to this, the column
**label\_de** contains the German label. For a more comprehensive
description of the dataset, the column **description\_en** can be used.
For example, information about the study or the measurement instrument
can be entered here. Again, two language versions are possible.
**description\_en** for an English description and **description\_de**
for a German description.

| study | dataset | label\_en                                | label\_de                         | description\_en                                                                                                                                                                                                                                                                                                                                                                                            | description\_de                                                                                                                                                                                                                                                                                                                                                                                          | url                                        |
|:--------|:--------|:-----------------------------------------|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------|
| soep-core v38.1  | bap     | Data from individual questionnaires 2010 | Daten vom Personenfragebogen 2010 | The data were collected as part of the SOEP-Core study using the questionnaire "Living in Germany - Survey 2010 on the social situation - Personal questionnaire for all. This questionnaire is addressed to the individual persons in the household. A view of the survey instrument can be found here: <https://www.diw.de/documents/dokumentenarchiv/17/diw_01.c.369781.de/soepfrabo_personen_2010.pdf> | Die Daten wurden im Rahmen der Studie SOEP-Core mittels des Fragebogens „Leben in Deutschland – Befragung 2010 zur sozialen Lage - Personenfragebogen für alle“ erhoben. Dieser Fragebogen richtet sich an die einzelnen Personen im Haushalt. Eine Ansicht des Erhebungsinstrumentes finden Sie hier: <https://www.diw.de/documents/dokumentenarchiv/17/diw_01.c.369781.de/soepfrabo_personen_2010.pdf> | <https://paneldata.org/soep-core/data/bap> |

dataset.csv providing information on the data set

### Variables

The CSV file [variables.csv](variables.csv) provides seven columns for
describing the variables of the dataset. The column **variable**
contains the variable name – e. g. `bap87`. It is possible to specify
the variable label in two languages. Column **label\_en** holds the
English label - e. g. `Current Health` for the variable `bap87`, and
column **label\_de** contains the German label
(`Gesundheitszustand gegenwärtig`). Column `type` describes the variable
type. Entering `byte` declares the variable as `numeric`, entering
`string` marks a `character`variable.

| variable | label\_en      | label\_de                      | type    | description\_en                                       | description\_de                                                           | url                                              |
|:---------|:---------------|:-------------------------------|:--------|:------------------------------------------------------|:--------------------------------------------------------------------------|:-------------------------------------------------|
| bap87    | Current Health | Gesundheitszustand gegenwärtig | numeric | Question: How would you describe your current health? | Frage: Wie würden Sie Ihren gegenwärtigen Gesundheitszustand beschreiben? | <https://paneldata.org/soep-core/data/bap/bap87> |

Row from variables.csv describing the variable bap87 stored in data.csv

The columns **description\_en** (English) and **description\_de**
(German) reserve space for a more comprehensive description of the
variables. The **url** column holds a link to an external website, such
as a data portal, that provides detailed information about the variable
(e. g. descriptive statistics, methodological or technical reports,
documentation of the measurement instrument).

### Variable Values & Value Labels

Categorical variables are defined by a set of values and value labels.
Within the Internal\_OpenDF, categorical variables relate to an
additional file - namely the [categories.csv](categories.csv) file,
which holds the pre-defined values within the column **value**, and
respective labels within the columns **label\_en** (English) and
**label\_de** (German).

| variable | value | label\_en      | label\_de         |
|:---------|------:|:---------------|:------------------|
| bap87    |    -2 | Does not apply | trifft nicht zu   |
| bap87    |    -1 | No Answer      | keine Angabe      |
| bap87    |     1 | Very good      | Sehr gut          |
| bap87    |     2 | Good           | Gut               |
| bap87    |     3 | Satisfactory   | Zufriedenstellend |
| bap87    |     4 | Poor           | Weniger gut       |
| bap87    |     5 | Bad            | Schlecht          |

Rows from categories.csv holding the values and value labels of the
variable bap87 stored in data.csv

In this example the variable `bap87` can take the values `-2` to `5`,
labeled from `No Answer` over `Very good` to `Bad`. Which values are
used as user-defined missings depends on the data user’s interpretation
of the value labels. The files [variables.csv](variables.csv) and
[categories.csv](categories.csv) are connected via the column variable.
